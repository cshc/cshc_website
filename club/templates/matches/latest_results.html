{% comment %}
This re-usable template displays the latest result for each team in the club.
Context should have a 'latest_results' list of Match objects.
{% endcomment %}

<div class="row">
<div class="span7">
<table class="table table-condensed table-hover">
    <thead>
        <tr><th>Team</th><th>Opposition</th><th>Score</th><th>Date</th><th>Report</th></tr>
    </thead>
    <tbody>
    {% for m in latest_results %}
        <tr>
            <td><a href="{{ m.our_team.get_absolute_url }}">{{ m.our_team.name }}</a></td>
            <td>{{ m.opp_team.club.name }} {{ m.opp_team.ordinal }}</td>
            <td>{{ m.score_display }}</td>
            <td>{{ m.date|date:"jS M" }}</td>
            {% if m.has_result %}
            <td><a href="{{ m.get_absolute_url }}">Report</a></td>
            {% elif m.has_team %}
            <td><a href="{{ m.get_absolute_url }}">Team</a></td>
            {% else %}
            <td><a href="{{ m.get_absolute_url }}">Fixture</a></td>
            {% endif %}
        </tr>
    {% endfor %}
    </tbody>
</table>
</div>
</div>