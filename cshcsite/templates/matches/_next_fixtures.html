{% comment %}
This re-usable template displays the next fixture for each team in the club.
Context should have a 'next_fixtures' list of Match objects.
{% endcomment %}

{% if next_fixtures %}
    <table class="table table-condensed table-hover">
        <thead>
            <tr><th></th><th>Team</th><th>Opposition</th><th>Venue</th><th>Date</th><th>Start time</th><th>Fixture</th></tr>
        </thead>
        <tbody>
        {% for m in next_fixtures %}
            <tr>
                <td>
                    {% include 'matches/_fixture_icon.html' with match=m %}
                </td>
                <td><a href="{{ m.our_team.get_absolute_url }}">{{ m.our_team|capfirst }}</a></td>
                <td><a href="{{ m.opp_team.club.get_absolute_url }}">{{ m.opp_team.name }}</a></td>
                <td>{% if m.venue %}<a href="{{ m.venue.get_absolute_url }}">{{ m.venue.name }}{% else %}TBD{% endif %}</a></td>
                <td class="no-break"><a title="Matches on {{ m.date|date:"d-M-y" }}" href="{% url 'matches_by_date' m.date|date:"d-M-y"%}">{{ m.date|date:"jS M" }}</a></td>
                <td class="no-break">{{ m.time_display }}</td>
                <td><a href="{{ m.get_absolute_url }}">Fixture</a></td>
                </tr>
        {% endfor %}
        </tbody>
    </table>
{% else %}
    <p class="lead muted">No upcoming fixtures</p>
{% endif %}