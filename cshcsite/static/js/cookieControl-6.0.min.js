// cookieControl version 6.0 (2013-08-23, R225, greg)
// Copyright (c) 2013 Civic UK (http://www.civicuk.com/cookie-law/)
if(!Array.prototype.indexOf){Array.prototype.indexOf=function(a){return jQuery.inArray(a,this)}}if(!String.prototype.trim){String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")}}var CookieControl={VERSION:6,PROD_FREE:"cookiecontrol free",PROD_PAID:"cookiecontrol single-site",PROD_PAID_MULTISITE:"cookiecontrol multi-site",PROD_PAID_CUSTOM:"cookiecontrol custom",HOME_URL:"http://cookie-control.civiccomputing.com/",BROWSER_HELP:"http://cookie-control.civiccomputing.com/browser-settings",MODEL_INFO:"info",MODEL_IMPLICIT:"impl",MODEL_EXPLICIT:"expl",STYLE_TRIANGLE:"ccc-triangle",STYLE_SQUARE:"ccc-square",STYLE_DIAMOND:"ccc-diamond",STYLE_BAR:"ccc-bar",POS_LEFT:"ccc-left",POS_RIGHT:"ccc-right",POS_TOP:"ccc-top",POS_BOTTOM:"ccc-bottom",THEME_LIGHT:"ccc-light",THEME_DARK:"ccc-dark",MODEL_INFORMATION:this.MODEL_INFO,MODEL_INFORMATIONAL:this.MODEL_INFO,MODEL_IMPLIED:this.MODEL_IMPLICIT,options:{countries:"United Kingdom",style:this.STYLE_TRIANGLE,position:this.POS_LEFT,theme:this.THEME_LIGHT,cookieName:"civicCookieControl",cookieExpiry:90,blockedCookieExpiry:90,protectedCookies:[],cookiePath:"/",cookieDomain:"",autoFadeSpeed:1000,initialFadeSpeed:750,clickFadeSpeed:200,expandSpeed:200,startOpen:false,autoHide:7000,autoDelete:true,domain:"",subdomains:true,css:"html #cccwr,html #cccwr *{border:0}#cccwr #ccc-hdricon,#cccwr .ccc-close,#cccwr #ccc-icon a,#cccwr #cctoggle,#cccwr.ccc-bar,#cccwr #ccc-icon button{background-image:url('//apikeys.civiccomputing.com/p/cc/6.0/ccc-icons.png')}#cccwr{z-index:10001}#cccwr *,#cccwr *:active{outline:0}div#cccwr div{font-size:11px;line-height:16px;font-family:sans-serif;margin:0;text-align:left}div#cccwr #ccc-icon{cursor:pointer;display:none;z-index:9999;bottom:0;left:0;position:fixed}#cccwr.ccc-right{left:auto;right:0}div#cccwr.ccc-diamond #ccc-icon{bottom:-3px;left:-3px}div#cccwr.ccc-diamond.ccc-right #ccc-icon{bottom:-3px;left:auto;right:-3px}div#cccwr.ccc-square #ccc-icon{bottom:-3px;left:6px}div#cccwr.ccc-square.ccc-right #ccc-icon{bottom:-3px;left:auto;right:-6px}div#ccc-icon a{border:0;height:70px;width:70px;background-color:transparent}div#ccc-icon a span{visibility:hidden}.ccc-bar div#ccc-icon{display:none!important}#ccc-ias{display:none}.ccc-bar #ccc-ias{display:inline!important;position:relative!important;float:right!important;width:auto;height:auto;overflow:hidden;background:transparent;padding:12px 9px 8px 9px;text-indent:0;color:#000;font-size:14px;line-height:16px}#cccwr.ccc-bar.ccc-dark #ccc-ias{color:#f0942b}#cccwr.ccc-bar #ccc-ias:hover{text-decoration:underline}#ccc-ias2{display:block}.ccc-info #ccc-ias2,.ccc-bar #ccc-ias2{display:none}#ccc-icon a{display:block;background-position:0 0}.ccc-triangle.ccc-left #ccc-icon a{background-position:-70px 0}.ccc-triangle.ccc-right #ccc-icon a{background-position:-140px 0}.ccc-square #ccc-icon a{background-position:190px 0}div#cccwr.ccc-right #ccc-icon{left:auto;right:0}.ccc-widget{position:fixed;bottom:35px;left:70px;z-index:10001;display:none}div#cccwr.ccc-right .ccc-widget{left:auto;right:70px}.ccc-outer{background:#fff;border:1px solid #f0942b;border-radius:5px;-moz-border-radius:5px;-o-border-radius:5px;-webkit-border-radius:5px;box-shadow:0 0 5px rgba(0,0,0,0.3);color:#888;left:70px;width:200px;bottom:30px}.ccc-inner{position:relative;z-index:2;background:#fff;border-radius:5px;-moz-border-radius:5px;-o-border-radius:5px;-webkit-border-radius:5px}.ccc-bar .ccc-inner{background:transparent}.ccc-hdr{background-color:#f0942b;height:40px;border-radius:4px 4px 0 0;-moz-border-radius:4px 4px 0 0;-o-border-radius:4px 4px 0 0;-webkit-border-radius:4px 4px 0 0}.ccc-hdr span.ccc-title{display:none}.ccc-hdr span.ccc-title *{outline:0!important;margin:0!important;border:0!important;padding:0!important}.ccc-dark .ccc-hdr{background-color:#3e3e3e}.ccc-inner h2{color:#fff;font-size:1.3em;font-weight:bold;margin:0;padding:11px 9px 8px 44px}.ccc-c{margin:0;border:0;padding:0}.ccc-ci{padding:5px 10px 10px 10px;margin:0}#ccc-hdricon{background-repeat:no-repeat;background-position:-364px 8px;height:34px;left:0;position:absolute;text-indent:-999em;top:0;width:40px}.ccc-dark #ccc-hdricon{background-position:-313px 8px}#cccwr .ccc-close{background-color:transparent;background-repeat:no-repeat;background-position:-278px 2px;border:0;border-radius:3px;-moz-border-radius:3px;-o-border-radius:3px;-webkit-border-radius:3px;display:block;height:17px;width:17px;position:absolute;right:11px;top:11px;text-indent:-999em}#cccwr .ccc-close:hover{background-color:#000;background-color:rgba(0,0,0,0.15)}#cccwr.ccc-dark .ccc-close:hover{background-color:#f0942b}#cccwr .ccc-inner p{margin:5px 0 8px;padding:0}.ccc-inner ul{margin:8px 0;padding:0 0 0 12px}.ccc-inner a{color:#454545;text-decoration:none}.ccc-dark .ccc-inner a{color:#f0942b}.ccc-inner a:hover{text-decoration:underline}.ccc-inner .ccc-button{background-color:#666;border:1px solid #666;border-radius:3px;-moz-border-radius:3px;-o-border-radius:3px;-webkit-border-radius:3px;box-shadow:inset 0 0 2px #fff;color:#fff;display:block;font-size:1em;font-weight:bold;padding:3px;text-align:center;text-decoration:none;text-shadow:none}.ccc-inner .ccc-browser{background-color:#f0942b;border-color:#f0942b;width:100%}.ccc-expanded{display:none}.ccc-bar .ccc-expanded{display:block!important}.ccc-inner .ccc-ab{display:block;margin:0;position:relative;text-align:right;top:5px}.ccc-ab small{font-size:10px}#cccwr.ccc-left .ccc-outer,#cccwr.ccc-left .ccc-inner{border-radius:5px;-moz-border-radius:5px;-o-border-radius:5px;-webkit-border-radius:5px}#cccwr.ccc-left .ccc-expand{left:0;margin-left:0;right:auto}#cccwr.ccc-right .ccc-outer,#cccwr.ccc-right .ccc-inner{border-radius:5px 5px 0 5px;-moz-border-radius:5px 5px 0 5px;-o-border-radius:5px 5px 0 5px;-webkit-border-radius:5px 5px 0 5px}#cccwr.ccc-right .ccc-expand{left:auto;right:0}#cccwr.ccc-dark .ccc-outer{background-color:#3e3e3e;border-radius:5px;-moz-border-radius:5px;-o-border-radius:5px;-webkit-border-radius:5px;border-color:#000;color:#fff}#cccwr.ccc-dark.ccc-right .ccc-outer{border-radius:5px 5px 0 5px;-moz-border-radius:5px 5px 0 5px;-o-border-radius:5px 5px 0 5px;-webkit-border-radius:5px 5px 0 5px}#cccwr.ccc-dark .ccc-inner{background:transparent}#cccwr.ccc-dark .ccc-inner p{color:#fff}#cccwr.ccc-dark .ccc-inner h2{background-color:transparent;background-position:9px -54px;background-repeat:no-repeat}#cccwr.ccc-dark .ccc-c{padding-top:0}.ccc-dark #ccc-rmb{height:34px;z-index:10001}#cccwr.ccc-dark .ccc-expand{background:#3e3e3e;border:1px solid #000;border-top:0;color:#f0942b}#cccwr #ccc-cookies-switch{width:180px;height:30px;overflow:hidden;display:none}#cccwr .ccc-toggle-shadow{box-shadow:inset 1px 1px 5px 1px rgba(0,0,0,0.25);position:absolute}#cccwr.ccc-dark .ccc-toggle-shadow{box-shadow:inset 0 0 1px 1px rgba(0,0,0,1)}#cccwr .ccc-toggle-shadow,#cccwr #ccc-toggle,#cccwr .ccc-bt{width:180px;height:30px;border-radius:4px;-moz-border-radius:4px;-o-border-radius:4px;-webkit-border-radius:4px}#cccwr #ccc-toggle{overflow:hidden;box-shadow:inset 1px 1px 3px rgba(0,0,0,0.25);border-radius:4px;-moz-border-radius:4px;-o-border-radius:4px;-webkit-border-radius:4px;-moz-user-select:none;-webkit-user-select:none;-webkit-user-drag:none;white-space:nowrap}#cccwr #ccc-toggle div{width:365px;font-size:13px;line-height:28px;color:white}#cccwr.ccc-info.ccc-bar .ccc-toggle-shadow,#cccwr.ccc-info.ccc-bar #ccc-toggle{display:none!important}#cccwr #ccc-toggle a,#cccwr .ccc-bt{margin:0;border:0;padding:0;width:180px;height:30px;display:inline-block;color:#fff;text-align:center}#cccwr #ccc-toggle a:hover{text-decoration:none!important}#cccwr.ccc-bar .ccc-toggle-shadow,#cccwr.ccc-bar #ccc-toggle,#cccwr.ccc-bar .ccc-bt,#cccwr.ccc-bar #ccc-toggle a{width:263px}html #cccwr .ccc-bt{display:block;box-shadow:inset 1px 1px 5px 1px rgba(0,0,0,0.25);margin:1em 0;font-size:13px;line-height:28px}html #cccwr .ccc-bt:hover{text-decoration:none}#cccwr #ccc-toggle .ccc-1st{margin-right:5px}#cccwr .ccc-rd{background:#e6002e}#cccwr .ccc-or{background:#f0942b}#cccwr .ccc-gr{background:#90c944}.cctoggle-on{background-position:100% 0!important}#cccwr #ccc-implicit-warning{display:none}#cccwr #ccc-explicit-checkbox{display:none}#cccwr .cctoggle-text-off{padding-left:20px}#cccwr .cctoggle-text-on{padding-left:70px}#cccwrpad{display:none}.ccc-bar.ccc-top #cccwrpad{border:0;margin:0;padding:0;display:none;height:50px}#cccwr.ccc-bar{position:fixed;display:none;height:50px;background-repeat:repeat-x;background-position:0 -210px;top:0;left:0;width:100%;border-bottom:solid 1px #888;box-shadow:0 -12px 10px 10px #000}#cccwr.ccc-bar.ccc-bottom{position:fixed;bottom:0;top:auto;border-bottom:0;border-top:solid 1px #888;box-shadow:0 12px 10px 10px #000;background-position:0 -310px}#cccwr.ccc-bar.ccc-dark{background-position:0 -260px;border-color:#000}.ccc-bar .ccc-outer{width:100%;background:transparent;border:0;box-shadow:none}#cccwr.ccc-dark.ccc-bar .ccc-outer{background:transparent}.ccc-bar .ccc-widget{position:relative;top:0;left:0}.ccc-bar.ccc-bottom .ccc-widget{top:inherit;bottom:inherit;padding:0 10px 4px 8px;height:auto}.ccc-bar .ccc-hdr{background:transparent;width:100%;overflow:hidden;padding:5px 10px 4px 8px;height:34px}html #cccwr.ccc-bar .ccc-hdr>*{position:relative!important;display:inline-block;float:left}.ccc-bar .ccc-hdr h2{color:#f0942b;display:inline;padding-left:5px}.ccc-bar #ccc-hdricon{background-position:-313px 8px}.ccc-bar .ccc-hdr span.ccc-title{display:inline;padding:11px 9px 8px 9px;font-size:14px}.ccc-bar.ccc-dark .ccc-title{color:#888}.ccc-bar .ccc-c{overflow:hidden;position:fixed;top:50px;right:0;width:337px}.ccc-bar .ccc-ci{display:block;visibility:hidden;position:relative;top:0;right:0;background:#fff;border:solid 1px #888;border-style:none none solid solid;overflow:hidden;width:263px;margin:0 0 7px auto!important;padding:12px 33px;box-shadow:12px -12px 10px 10px #000}.ccc-bar.ccc-dark .ccc-ci{background:#363636;border-color:#000;color:#fff}.ccc-bar.ccc-bottom .ccc-c{top:auto;bottom:50px}.ccc-bar.ccc-bottom .ccc-ci{border-style:solid none none solid;margin:7px 0 0 auto!important;box-shadow:12px 12px 10px 10px #000;padding-top:25px}.ccc-bar #ccc-icon{display:none!important}.ccc-bar .ccc-expand{display:none}#cccwr.ccc-bar .ccc-close{margin-top:-8px;float:right!important;background:#90c944;width:auto;height:auto;text-indent:0;color:white;font-size:13px;line-height:13px;margin-left:20px;margin-right:20px;padding:11px 26px;border-radius:4px;-moz-border-radius:4px;-o-border-radius:4px;-webkit-border-radius:4px}#cccwr.ccc-bar .ccc-bt.ccc-fine{display:none}#cccwr.ccc-bar .ccc-close:hover{box-shadow:inset 1px 1px 5px 1px rgba(0,0,0,0.25);background:#3e3e3e;color:#f0942b}#cccwr.ccc-bar.ccc-dark .ccc-close:hover{box-shadow:inset 1px 1px 7px 0 rgba(0,0,0,0.25);background:#ddd;color:#000}",html:'<div id="cccwr"><div id="ccc-state" class="ccc-pause"><div class="ccc-widget"><div class="ccc-outer"><div class="ccc-inner"><div class="ccc-hdr"><a id="ccc-hdricon" target="_blank" title="About Cookie Control" /><h2>Cookie Control</h2><span class="ccc-title" /><a href="#" class="ccc-close" /><a href="#" id="ccc-ias" /></div><div class="ccc-c"><div class="ccc-ci"><p class="ccc-intro" /><div class="ccc-expanded" /><div id="ccc-implicit-warning">(One cookie will be set to store your preference)</div><div id="ccc-explicit-checkbox"><label><input id="cchide-popup" type="checkbox" name="ccc-hide-popup" value="Y" /> Do not ask me again <br /></label>(Ticking this sets a cookie to hide this popup if you then hit close. This will not store any personal information)</div><a class="ccc-ab" id="ccc-ias2" /><a class="ccc-ab" id="ccc-about" target="_blank" /></div></div></div></div><!-- Not used in CC 6: --><!-- <div id="ccc-rmb"><button class="ccc-expand" /></div> --></div><div id="ccc-icon"><a href="#"><span>Cookie Control</span></a></div></div></div><div id="cccwrpad" />',onReady:null,onCookiesAllowed:null,onCookiesNotAllowed:null,onAccept:null,onReject:null,consentModel:this.MODEL_INFO,t:{ias:"Information and Settings",title:"This site uses cookies to store information on your computer.",intro:"Some of these cookies are essential to make our site work and others help us to improve by giving us some insight into how the site is being used.",full:'<p>These cookies are set when you submit a form, login or interact with the site by doing something that goes beyond clicking some simple links.</p><p>We also use some non-essential cookies to anonymously track visitors or enhance your experience of this site. If you\'re not happy with this, we won\t set these cookies but some nice features on the site may be unavailable.</p><p>To control third party cookies, you can also <a class="ccc-settings">adjust your browser settings</a>.</p><a class="ccc-bt ccc-gr ccc-settings">Browser settings</a>',on:"Turn cookies on",off:"Turn cookies off",bs:"Browser settings",rm:"Read more",rl:"Read less",ab:"About this tool",c:"I'm fine with this"}},isFP:function(){if(typeof civicLicense!=="object"){return true}return civicLicense.product.toLowerCase()===this.PROD_FREE},cookieLawApplies:function(){if(this.countryHasCookieLaw()){return true}return false},maySendCookies:function(){if(!this.cookieLawApplies()){return true}if(this.options.consentModel===this.MODEL_INFO){return true}if(this.consented()===true){return true}if(this.getState("consented",undefined)===undefined&&this.options.consentModel===this.MODEL_IMPLICIT){return true}return false},consented:function(){return this.getState("consented",false)==="yes"},hidden:function(){return this.getState("hidden",false)==="yes"},reset:function(){this.delCookie(this.options.cookieName)},init:function(a){a.t=jQuery.extend(this.options.t,a.t);this.options=jQuery.extend(this.options,a);if(!this.sanityCheck()){return}this.workarounds();this.initPersistentState();this.initWidget();this.setModel(this.options.consentModel);if(!this.options.cookieDomain){this.options.cookieDomain=document.location.hostname}this.resetOnUpdatedPolicy();this.setPolicyVersion();this.options.protectedCookies.push(this.options.cookieName);this.scheduleAutohide();jQuery("#ccc-state").click(function(){CookieControl.disableAutohide();CookieControl.stopAutohide()});this.readyEvent();if(this.maySendCookies()){jQuery("#ccc-state, body").addClass("ccc-consented");this.cookiesAllowedEvent()}else{jQuery("#ccc-state, body").addClass("ccc-blocked");if(this.options.autoDelete){this.delAllCookies()}this.cookiesNotAllowedEvent()}},sanityCheck:function(){if(!civicLicense.valid){alert("Civic Cookie Control: "+civicLicense.error);return false}var b=[];jQuery.each("ias title intro full on off bs rm rl".split(" "),function(e,f){if(f.trim()==""){b.push("Text option CookieControl.options."+e+" may not be empty.")}});var a=[this.STYLE_TRIANGLE,this.STYLE_SQUARE,this.STYLE_DIAMOND,this.STYLE_BAR];if(a.indexOf(this.options.style)<0){b.push('Style must be one of STYLE_TRIANGLE, STYLE_SQUARE, STYLE_DIAMOND or STYLE_BAR, not "'+this.options.style+'".')}if(this.options.style==this.STYLE_BAR){if(this.options.position!==this.POS_TOP&&this.options.position!==this.POS_BOTTOM){b.push('Position must be POS_TOP or POS_BOTTOM, not "'+this.options.position+'".')}}else{if(this.options.position!==this.POS_LEFT&&this.options.position!==this.POS_RIGHT){b.push('Position must be POS_LEFT or POS_RIGHT, not "'+this.options.position+'".')}}if(this.options.theme!==this.THEME_LIGHT&&this.options.theme!==this.THEME_DARK){b.push('Theme must be THEME_LIGHT or THEME_DARK, not "'+this.options.position+'".')}if(b.length){alert("Civic Cookie Control: "+b.join("\n"));return false}return true},initWidget:function(){if(!this.cookieLawApplies()){return}if(this.getCookie(this.options.iconStatusCookieName)==="no"){return}this.initShowCookieWidget()},initShowCookieWidget:function(){var f=this.consented();if(jQuery("#cccwr .ccc-outer").length){return}jQuery("head").append('<style type="text/css">'+this.options.css+"</style>");jQuery("body").prepend(this.options.html);var b=jQuery("#cccwr");var a=b.find("#ccc-icon");var e=b.find("#ccc-state");b.find(".ccc-title").html(this.options.t.title);b.find(".ccc-intro").html(this.options.t.title+" "+this.options.t.intro);b.find(".ccc-expanded").html(this.options.t.full);b.find("#ccc-about").html(this.options.t.ab);b.find(".ccc-close").html(this.options.t.c);b.find("#ccc-ias, #ccc-ias2").text(this.options.t.ias);b.find("#ccc-about, #cccwr #ccc-hdricon").attr({href:this.HOME_URL,target:"_blank"});b.find("a.ccc-settings").attr({href:this.BROWSER_HELP,target:"_blank"});this.setPosition(this.options.position);this.setStyle(this.options.style);this.setTheme(this.options.theme);e.addClass(f?"ccc-go ccc-cookies-allowed":"ccc-pause ccc-cookies-blocked");b.find("a").attr("rel","nofollow");this.initSlider(b);this.initIAS(b);this.initEventHandlers(b,a);if(!this.hidden()){this.initialDisplay()}},initSlider:function(f){if(this.options.consentModel==this.MODEL_IMPLICIT){jQuery("#cccwr .ccc-expanded").append('<a href="#" class="ccc-toggle-shadow"/><div id="ccc-toggle"><div/></div>').after('<a class="ccc-bt ccc-gr ccc-fine" href="#">'+this.options.t.c+"</a>")}else{jQuery("#cccwr .ccc-expanded").after('<a href="#" class="ccc-toggle-shadow"/><div id="ccc-toggle"><div/></div>')}var g=this.getCookie(this.options.cookieName);var a=f.find(".ccc-toggle-shadow");var e=f.find("#ccc-toggle > div");var b=a.width();f.find("#ccc-toggle *").click(function(h){h.preventDefault();jQuery("#cccwr .ccc-toggle-shadow").click()});if(this.options.consentModel==this.MODEL_INFO){e.html('<a href="#" class="ccc-gr">'+this.options.t.ias+'</a><a href="#" class="ccc-or">'+this.options.t.rl+"</a>");a.click(function(i){var h=jQuery(i.target);if(h.hasClass("toggled")){h.removeClass("toggled");jQuery("#ccc-toggle div").stop(true).animate({"margin-left":0},200)}else{h.addClass("toggled");jQuery("#ccc-toggle div").stop(true).animate({"margin-left":-(b+5)},200)}i.preventDefault();return CookieControl.handleExpand(i)})}else{if(this.options.consentModel==this.MODEL_EXPLICIT){e.html('<a href="#" class="ccc-rd">'+this.options.t.off+'</a><a href="#" class="ccc-gr">'+this.options.t.on+"</a>");if(!this.maySendCookies()){f.find(".ccc-toggle-shadow").addClass("toggled");jQuery("#ccc-toggle div").css("margin-left",-(b+5))}a.click(function(i){var h=jQuery(i.target);if(h.hasClass("toggled")){h.removeClass("toggled");CookieControl.setConsent(true);jQuery("#ccc-toggle div").stop(true).animate({"margin-left":0},200,function(){CookieControl.closeAndHide(CookieControl.options.autoFadeSpeed)})}else{h.addClass("toggled");CookieControl.setConsent(false);jQuery("#ccc-toggle div").stop(true).animate({"margin-left":-(b+5)},200)}i.preventDefault();return false})}else{if(this.options.consentModel==this.MODEL_IMPLICIT){e.html('<a href="#" class="ccc-gr">'+this.options.t.off+'</a><a href="#" class="ccc-rd">'+this.options.t.on+"</a>");if(!this.maySendCookies()){f.find(".ccc-toggle-shadow").addClass("toggled");jQuery("#ccc-toggle div").css("margin-left",-(b+5))}a.click(function(i){var h=jQuery(i.target);if(h.hasClass("toggled")){h.removeClass("toggled");CookieControl.setConsent(true);jQuery("#ccc-toggle div").stop(true).animate({"margin-left":0},200)}else{h.addClass("toggled");CookieControl.setConsent(false);jQuery("#ccc-toggle div").stop(true).animate({"margin-left":-(b+5)},200)}i.preventDefault();return false})}}}e.find("a:first-child").addClass("ccc-1st");this._initDone=true},initIAS:function(a){if(this.options.consentModel!=this.MODEL_INFO){a.find("#ccc-ias2").attr("href","#").text(this.options.t.ias).click(function(b){if(CookieControl.handleExpand(b)){jQuery(b.target).text(CookieControl.options.t.rl)}else{jQuery(b.target).text(CookieControl.options.t.ias)}b.preventDefault();return false})}},initEventHandlers:function(b,a){a.click(function(e){e.preventDefault();return CookieControl.handleCookieIcon(e)});b.find("#cchide-popup").click(function(e){e.preventDefault();return CookieControl.handleHidePopup(e)});b.find("#ccc-ias").click(function(e){e.preventDefault();return CookieControl.handleBarIAS(e)});b.find(".ccc-close, .ccc-fine").click(function(e){e.preventDefault();return CookieControl.handleClose(e)});b.find(".ccc-expand").text(this.options.t.rm).click(function(e){e.preventDefault();return CookieControl.handleExpand(e)});b.find(".ccc-widget").mouseover(function(){CookieControl.stopAutohide();if(!CookieControl.getCookie(CookieControl.options.cookieName)&&CookieControl.options.consentModel!=this.MODEL_EXPLICIT){CookieControl.setCookie(CookieControl.options.cookieName,"no");CookieControl.cookiesNotAllowedEvent()}}).mouseout(function(){CookieControl.scheduleAutohide()})},workarounds:function(){if(this.options.shape){this.options.style=this.options.shape;delete this.options.shape}if(this.options.style.indexOf("ccc-")!==0){this.options.style="ccc-"+this.options.style}if(this.options.theme.indexOf("ccc-")!==0){this.options.theme="ccc-"+this.options.theme}if(this.options.position.indexOf("ccc-")!==0){this.options.position="ccc-"+this.options.position}this.options.policyVersion=this.options.policyVersion||this.options.policyDate||"";if(typeof String.prototype.trim!=="function"){String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")}}},initPersistentState:function(){if(this.state){return}var a=this.getCookie(this.options.cookieName);if(!a||a.indexOf(":")<0){this.state={}}else{this.state=this.decodeCookie(a)}},policyUpdated:function(){return decodeURI(this.getState("pv",""))!=this.options.policyVersion||decodeURI(this.getState("cm",""))!=this.options.consentModel},setPolicyVersion:function(){this.setState("pv",this.options.policyVersion);this.setState("cm",this.options.consentModel)},resetOnUpdatedPolicy:function(){if(!this.policyUpdated()){return}this.reset()},setModel:function(a){if(this._setModel){alert("Civic Cookie Control: the consent model can only be set once.");return}this._setModel=a;jQuery("#cccwr, #ccc-icon, body").addClass("ccc-"+a)},setTheme:function(a){this.options.theme=a;return jQuery("#cccwr, #ccc-icon, body").removeClass([this.THEME_LIGHT,this.THEME_DARK].join(" ")).addClass(a)},setStyle:function(a){if(a===this.STYLE_BAR){if(this.isFP()){alert("Cookie Control: STYLE_BAR is not available in the free version of Cookie Control.");return}jQuery("#cccwr .ccc-ci").removeClass("ccc-vis").css("height","auto").css("visibility","hidden")}else{jQuery("#cccwr .ccc-ci").removeClass("ccc-vis").css("height","auto").css("visibility","visible")}this.options.style=a;return jQuery("#cccwr, #ccc-icon, body").removeClass([this.STYLE_TRIANGLE,this.STYLE_SQUARE,this.STYLE_DIAMOND,this.STYLE_BAR].join(" ").replace("."," ")).addClass(a)},setPosition:function(a){this.options.position=a;return jQuery("#cccwr, #ccc-icon, body").removeClass([this.POS_LEFT,this.POS_RIGHT,this.POS_TOP,this.POS_BOTTOM].join(" ")).addClass(a)},initialDisplay:function(){var b=jQuery("#cccwr #ccc-icon");if(this._displayed===true){b.show();return}this._displayed=true;if(this.options.style==this.STYLE_BAR){if(this.options.position==this.POS_TOP){jQuery("#cccwr, #cccwrpad, #cccwr .ccc-widget").css("display","block");jQuery("#cccwr").css("top","-50px").css("opacity",0).animate({top:"+=50",opacity:1},this.options.initialFadeSpeed,function(){jQuery("#cccwr").css("top","")});jQuery("#cccwrpad").css("height",0).animate({height:"+=50"},this.options.initialFadeSpeed,function(){jQuery("#cccwrpad").css("height","");if(CookieControl.shouldOpen()){CookieControl.popUpWithAutohide()}})}else{jQuery("#cccwr, #cccwrpad, #cccwr .ccc-widget").css("display","block");jQuery("#cccwr").css("bottom","-60px").css("opacity",0).animate({bottom:"+=60",opacity:1},this.options.initialFadeSpeed,function(){jQuery("#cccwr").css("bottom","");if(CookieControl.shouldOpen()){CookieControl.popUpWithAutohide()}})}}else{if(this.shouldOpen()){var a=jQuery("#cccwr .ccc-widget");a.css("opacity","0").css("display","block").css("visibility","visible");if(this.options.position==this.POS_LEFT){var e=a.position().left;a.css("left","0px");b.css("opacity",0).show().animate({opacity:1},this.options.initialFadeSpeed);a.animate({opacity:1,left:e},this.options.initialFadeSpeed,function(){a.css("left","");CookieControl.highlight(100)})}else{var e=a.position().left;a.css("left",jQuery(window).width()+"px");b.css("opacity",0).show().animate({opacity:1},this.options.initialFadeSpeed);a.animate({opacity:1,left:e},this.options.initialFadeSpeed,function(){a.css("left","");CookieControl.highlight(100)})}}else{b.css("opacity","0").show().animate({opacity:1},this.options.initialFadeSpeed)}}},popUp:function(a){if(this._initDone){this.initialDisplay()}this.stopAutohide();if(this.options.style===this.STYLE_BAR){this._barRollShow(jQuery("#cccwr .ccc-ci").stop(true,true))}else{if(a==0){return jQuery("#cccwr .ccc-widget").stop(true,true).show()}return jQuery("#cccwr .ccc-widget").stop(true,true).fadeIn(this.options.clickFadeSpeed)}jQuery("#ccc-ias, #ccc-ias2").text(this.options.t.rl);this.setState("open",true);this.highlight(this.options.initialFadeSpeed+1000)},popDown:function(a){this.stopAutohide();if(this.options.style===this.STYLE_BAR){this._barRollHide(jQuery("#cccwr .ccc-ci").stop(true,true))}else{jQuery("#cccwr .ccc-widget").stop(true,true).fadeOut(a)}jQuery("#ccc-ias, #ccc-ias2").text(this.options.t.ias);this.setState("open",false)},_barRollShow:function(b,a){if(b.hasClass("ccc-vis")){this.fire(a);return false}if(!this._iasHeight){this._iasHeight=b.height()}b.height(0).css("visibility","visible").animate({height:this._iasHeight},this.options.clickFadeSpeed,function(){b.addClass("ccc-vis");CookieControl.fire(a)});return false},_barRollHide:function(b,a){if(!b.hasClass("ccc-vis")){this.fire(a);return false}this._iasHeight=b.height();b.animate({height:0},this.options.clickFadeSpeed,function(){b.removeClass("ccc-vis").css("visibility","hidden");CookieControl.fire(a)});return false},highlight:function(a){var b=CookieControl._hl;if(!b){this._hl=1;setTimeout(function(){CookieControl._hli=setInterval(function(){var e=jQuery(".ccc-blocked #ccc-toggle a");var f=CookieControl._hl++;if(f===5){e.css("background-color","");clearInterval(CookieControl._hli)}else{e.css("background-color",f&1?"#e6002e":"#90c944")}},150)},a)}},closeAndHide:function(e){var a=jQuery("body");if(a.hasClass("ccc-bar")){if(a.hasClass("ccc-top")){this._barRollHide(jQuery("#cccwr .ccc-ci").stop(true,true),function(){var b=CookieControl;jQuery("#cccwr").animate({top:"-=60"},e);jQuery("#cccwrpad").animate({height:0},e,function(){jQuery("#cccwr, #ccwrpad").hide().addClass("ccc-hidden")})})}else{if(a.hasClass("ccc-bottom")){this._barRollHide(jQuery("#cccwr .ccc-ci").stop(true,true),function(){var b=CookieControl;jQuery("#cccwr").animate({bottom:"-=60"},e,function(){jQuery("#cccwr, #ccwrpad").hide().addClass("ccc-hidden")})})}else{jQuery("#cccwr .ccc-widget").stop(true,true).fadeOut(e);this.stopAutohide()}}}else{jQuery("#ccc-icon, #cccwr .ccc-widget").fadeOut(e)}this.setState("hidden",true)},popUpWithAutohide:function(a){this.popUp(a);this.scheduleAutohide()},disableAutohide:function(){this.stopAutohide();this.options.autoHide=-Math.abs(this.options.autoHide)},enableAutohide:function(){this.options.autoHide=Math.abs(this.options.autoHide);this.scheduleAutohide()},stopAutohide:function(){if(this._to){window.clearTimeout(this._to);delete this._to}},scheduleAutohide:function(){if(this.options.autoHide>0){this.stopAutohide();this._to=setTimeout(function(){CookieControl.popDown(CookieControl.options.autoFadeSpeed)},this.options.autoHide)}},hideEntireWidget:function(){jQuery("#cccwr").fadeOut(CookieControl.options.fadeInSpeed);this.stopAutohide()},countryHasCookieLaw:function(){if(this.options.countries&&typeof civicLicense=="object"&&typeof civicLicense.geo=="object"&&civicLicense.geo.country){var b=civicLicense.geo.country;var a=civicLicense.geo.countryName;if(typeof(this.options.countries)==="string"){this.options.countries=this.options.countries.split(/\s*,\s*/)}return jQuery.inArray(b,this.options.countries)>=0||jQuery.inArray(a,this.options.countries)>=0}return true},countryConsentModel:function(){if(this.options.countries&&typeof civicLicense=="object"&&typeof civicLicense.geo=="object"&&civicLicense.geo.cookieLaw){var a=civicLicense.geo.cookieLaw;if(a=="explicit"){return this.MODEL_EXPLICIT}if(a=="implicit"){return this.MODEL_IMPLICIT}}return false},checkShowIconState:function(){var a=CookieControl;if(jQuery(".ccc-widget input[name=showicon]:checked").val()==="N"){this.setCookie(a.options.iconStatusCookieName,"no");return true}else{this.setCookie(a.options.iconStatusCookieName,"yes");return false}},setCookie:function(f,g,e){var b;e=e||{};if("expiry" in e){if(typeof e.expiry==="number"){b=new Date(new Date().getTime()+(e.expiry*86400)*1000).toGMTString()}else{if(typeof e.expiry==="string"){b=e.expiry}else{if(typeof e.expiry==="object"&&("toGMTString" in e.expiry)){b=e.expiry.toGMTString()}}}}else{b=new Date(new Date().getTime()+86400000*720).toGMTString()}var i="";if(this.options.subdomains!=true||("domain" in e)){i=";domain="+(e.domain||this.options.cookieDomain)}var a=[];if(typeof g==="object"){jQuery.each(g,function(j,k){a.push('"'+encodeURIComponent(j)+'":"'+encodeURIComponent(k)+'"')});a="{"+a.join(",")+"}"}else{a=g}var h=f+"="+a+";expires="+b+";path="+this.options.cookiePath+i;document.cookie=h},hasCookie:function(a){return document.cookie.match(new RegExp("(^|;s*)"+a+"s*="))!==null},getCookie:function(a){var b=false;jQuery.each(document.cookie.split(/\s*;\s*/),function(f,g){var e=g.split(/\s*=\s*/);if(e[0].replace(/^\s+|\s+$/g,"")===a){b=unescape(e[1]);return false}});if(typeof b==="undefined"){b=false}return b},decodeCookie:function(b){try{return jQuery.parseJSON(b)}catch(a){return{}}},getAllCookies:function(){var a={};if(!document.cookie.trim()){return a}jQuery.each(document.cookie.split(/\s*;\s*/),function(e,f){var b=f.split(/\s*=\s*/);if(b){a[b[0]]=b[1]}});return a},delCookie:function(a){var b=this.options.cookieDomain.split(".");document.cookie=a+"=;expires=Thu, 01-Jan-1970 00:00:01 GMT;";document.cookie=a+"=;path="+this.options.cookiePath+";expires=Thu, 01-Jan-1970 00:00:01 GMT;";while(b.length){d=b.join(".");document.cookie=a+"=;path="+this.options.cookiePath+";expires=Thu, 01-Jan-1970 00:00:01 GMT;domain="+d;document.cookie=a+"=;path="+this.options.cookiePath+";expires=Thu, 01-Jan-1970 00:00:01 GMT;domain=."+d;if(!this.options.subdomains){break}b.shift()}document.cookie=a+"=;path="+this.options.cookiePath+";expires=Thu, 01-Jan-1970 00:00:01 GMT;"},delAllCookies:function(a){if(typeof a==="undefined"){a=this.options.protectedCookies}jQuery.each(this.getAllCookies(),function(e,b){if(jQuery.inArray(e,a)<0){CookieControl.delCookie(e)}})},setState:function(a,e){if(!this.state){this.initPersistentState()}if(typeof e==="boolean"){if(e=="true"||e=="on"||e=="1"||e=="yes"){e=true}else{if(e=="false"||e=="off"||e=="0"||e=="no"){e=false}}this.state[a]=e?"yes":"no"}else{this.state[a]=e}var b=this.maySendCookies()?this.options.cookieExpiry:this.options.blockedCookieExpiry;this.options.cookieExpiry;this.setCookie(this.options.cookieName,this.state,{expiry:b});if(typeof e==="boolean"){jQuery("#ccc-state, body").toggleClass("ccc-"+a,e)}},getState:function(a,b){if(!this.state){this.initPersistentState()}return this.state[a]===undefined?b:this.state[a]},shouldOpen:function(){if(this.getState("explicitly")==="yes"){return false}return this.options.startOpen&&!this.hidden()},setConsent:function(a){CookieControl.setState("consented",a);CookieControl.setState("explicitly",true);jQuery("#ccc-state, body").toggleClass("ccc-cookies-blocked",!a);if(a){CookieControl.acceptEvent()}else{CookieControl.rejectEvent();if(this.options.autoDelete){this.delAllCookies()}}},fire:function(a){return typeof(a)=="function"?a(CookieControl):false},acceptEvent:function(a){this.fire(this.options.onAccept);return a},rejectEvent:function(a){this.fire(this.options.onReject);return a},readyEvent:function(a){this.fire(this.options.onReady);return a},cookiesNotAllowedEvent:function(a){this.fire(this.options.onCookiesNotAllowed);return a},cookiesAllowedEvent:function(a){this.fire(this.options.onCookiesAllowed);return a},handleCookieIcon:function(a){jQuery("#cccwr .ccc-ci").css("visibility","visible");jQuery("#cccwr .ccc-widget").stop(true,true).fadeToggle(CookieControl.options.clickFadeSpeed);this.stopAutohide();this.disableAutohide()},handleHidePopup:function(b){var a=jQuery(b.target).attr("checked");if(a==true||a=="checked"){this.setCookie("ccNoPopup","no");jQuery("#cccwr .ccc-widget").fadeOut(this.options.clickFadeSpeed);this.stopAutohide()}else{c.setCookie("ccNoPopup","",true)}},handleBarIAS:function(a){var b=jQuery("#cccwr .ccc-ci").stop(true,true);this.stopAutohide();if(!b.hasClass("ccc-vis")){return this.popUp()}return this.popDown()},handleClose:function(a){this.closeAndHide(CookieControl.options.clickFadeSpeed);return false},handleExpand:function(b){var a=jQuery(this.target);if(jQuery(".ccc-expanded").css("display")==="none"){jQuery(".ccc-expanded").slideDown(this.options.expandSpeed,function(){if(a){a.text(CookieControl.options.t.rl)}CookieControl.disableAutohide()});return true}else{jQuery(".ccc-expanded").slideUp(this.options.expandSpeed,function(){if(a){a.text(CookieControl.options.t.rm)}});CookieControl.enableAutohide()}return false}};var civicLicense={};function cookieControl(a){if(typeof(a)==="undefined"||typeof(a.apiKey)==="undefined"){alert("Cookie Control: please provide an options object with a valid API Key and product name.");return -1}a.product=a.product||"CookieControl Free";a.pollPeriod=a.pollPeriod||25;a.pollIncrement=a.pollIncrement||1.25;a.jQueryUrl=a.jQueryUrl||"//ajax.googleapis.com/ajax/libs/jquery/1.7/jquery.min.js";if([CookieControl.PROD_FREE,CookieControl.PROD_PAID,CookieControl.PROD_PAID_MULTISITE,CookieControl.PROD_PAID_CUSTOM].indexOf(a.product.toLowerCase())<0){alert("Cookie Control: Sorry, the product name '"+a.product+"' is not recognised.\nPlease ensure you have used one of the CookieControl.PROD_x values.");return -1}if(typeof(jQuery)=="undefined"||parseInt(jQuery.fn.jquery.replace(/\./g,""))<144){document.write('<script type="text/javascript" src="'+a.jQueryUrl+'"><\/script>')}document.write('<script type="text/javascript" src="//apikeys.civiccomputing.com/c/v?d='+encodeURIComponent(document.location.hostname)+"&p="+encodeURIComponent(a.product)+"&v="+CookieControl.VERSION+"&k="+encodeURIComponent(a.apiKey)+'"><\/script>');_cookieControlPoll(a)}function _cookieControlPoll(a){if(typeof(jQuery)==="undefined"||typeof(civicLicense.valid)==="undefined"){setTimeout(function(){_cookieControlPoll(a)},a.pollPeriod);a.pollPeriod*=a.pollIncrement}else{jQuery(function(){CookieControl.init(a)})}};